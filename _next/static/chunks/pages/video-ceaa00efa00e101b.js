(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[816],{1731:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/video",function(){return r(9515)}])},9515:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return E},default:function(){return _}});var n=r(5893),l=r(7294);r(1548);var s=r(1664),a=r.n(s),i=r(2004),c=r(371),o=r(1462),d=r(4618);let u=e=>{let{chapterSectionList:t,playerRef:r,duration:s,playStart:a,currentProgress:i}=e,c=(0,l.useRef)(null),o=(0,l.useRef)(null),u=e=>{var n,l,i;let u=null===(n=o.current)||void 0===n?void 0:n.offsetWidth,h=u-e.nativeEvent.offsetX,x=u-h,p=x/u*s,m=t.filter(e=>{if(p>=e.sectStart&&p<e.sectEnd)return!0}),v=(null===(l=m[0])||void 0===l?void 0:l.index)-1;c.current&&(c.current.style.width="".concat(x)),r.current.seekTo(p),isNaN(v)&&(v=t.length-1),(0,d.m)(v),(!a||r.current.player.isPlaying)&&(null===(i=r.current)||void 0===i||i.getInternalPlayer().playVideo())};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{ref:o,className:"absolute w-full h-30px z-10",onClick:u}),(0,n.jsx)("svg",{className:"w-full h-full bg-primary-gray-500",children:(0,n.jsx)("rect",{ref:c,height:5,x:0,y:0,className:"fill-primary-300 transition-all duration-200",style:{width:"".concat(i/s*100,"%")}})}),null==t?void 0:t.map((e,r)=>{let l=t[r].sectEnd;return(0,n.jsx)("p",{className:"h-5px pl-2px bg-primary-dark-400 absolute last:bg-transparent",style:{left:"".concat(l/s*100,"%")}},r)})]})};var h=r(6066),x=r(5675),p=r.n(x),m=r(1163);let v=()=>{let[e,t]=(0,l.useState)("calc(-100% + 76px)"),[r,n]=(0,l.useState)(""),[s,a]=(0,l.useState)(""),i=e=>{a("0");let r=t=>{let r=t.changedTouches[0].pageY-e.changedTouches[0].pageY;n("".concat(r))},l=s=>{n("0"),a("300"),Math.abs(e.changedTouches[0].pageY-s.changedTouches[0].pageY)>=30&&(e.changedTouches[0].pageY>s.changedTouches[0].pageY&&t("0"),e.changedTouches[0].pageY<s.changedTouches[0].pageY&&t("calc(-100% + 76px)")),document.removeEventListener("touchmove",r),document.removeEventListener("touchend",l)};document.addEventListener("touchmove",r),document.addEventListener("touchend",l)},c=e=>{a("0");let r=t=>{let r=t.pageY-e.pageY;n("".concat(r))},l=s=>{n("0"),a("300"),Math.abs(e.pageY-s.pageY)>=30&&(e.pageY>s.pageY&&t("0"),e.pageY<s.pageY&&t("calc(-100% + 76px)")),document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",l)};document.addEventListener("mousemove",r),document.addEventListener("mouseup",l)};return{insertOnTouchStart:i,dragStyle:{bottom:"".concat(e),transform:"translateY(".concat(r,"px)"),transition:"ease-in-out",transitionDuration:"".concat(s,"ms")},insertOnMouseDown:c}};var f=r(9238),g=r.n(f),j=r(5841),b=r(6790);let w=e=>{var t,r;let{currentContents:s,chapterSectionList:a,playerRef:i,playStart:c,currentProgress:o}=e,u=(0,l.useRef)(null),x=(0,l.useRef)(null),p=(0,l.useRef)(null),{sliderIndex:f}=b.h.getState().content,{insertOnTouchStart:g,insertOnMouseDown:j,dragStyle:w}=v(),T=(0,m.useRouter)(),[S,k]=(0,l.useState)(!1),[E,_]=(0,l.useState)([[{index:0}]]),[C,Y]=(0,l.useState)(0),L=()=>{var e;null===(e=u.current)||void 0===e||e.slickGoTo(f),null!=p.current&&(clearTimeout(p.current),p.current=null),null==p.current&&(p.current=setTimeout(()=>{var e;null===(e=u.current)||void 0===e||e.slickGoTo(f)},500))},P=()=>{var e,t,r,n;let l=a.filter(e=>{if(f+1===e.index)return!0});f!==a.length&&(null===(r=i.current)||void 0===r||r.seekTo(null===(n=l[0])||void 0===n?void 0:n.sectStart),Y(f)),(!c||i.current.player.isPlaying)&&(null===(e=null===(t=i.current)||void 0===t?void 0:t.getInternalPlayer())||void 0===e||e.playVideo())},R=e=>{var t,r;_(e),null===(t=u.current)||void 0===t||t.slickGoTo((null===(r=e[0])||void 0===r?void 0:r.index)-1)},A=()=>k(!S);return(0,l.useEffect)(()=>L(),[f]),(0,l.useEffect)(()=>{var e,t;let r=a.filter(e=>{if(o>=e.sectStart&&o<e.sectEnd)return!0});(null===(e=E[0])||void 0===e?void 0:e.index)!==(null===(t=r[0])||void 0===t?void 0:t.index)&&R(r)},[o]),(0,l.useEffect)(()=>{C!==f&&P()},[S]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("section",{className:"w-full grow",onMouseUp:A,onTouchEnd:A,children:[" ",(0,n.jsxs)(h.Z,{centerMode:!0,centerPadding:"26px",slidesToShow:1,slidesToScroll:1,arrows:!1,infinite:!1,beforeChange(e,t){var r,n;(0,d.m)(t),null===(r=x.current)||void 0===r||r.slickGoTo(t),null===(n=u.current)||void 0===n||n.slickGoTo(f)},ref:u,className:"w-full h-full !overflow-visible",children:[null==s?void 0:null===(t=s.chapter)||void 0===t?void 0:t.map((e,t)=>(0,n.jsx)(y,{currentContents:s,i:t,currentIdx:f,chapter:e,routerQuery:T.query.id},t)),(0,n.jsx)(y,{isAbridged:!0,currentIdx:f,i:s.chapter.length,currentContents:s})]})]}),(0,n.jsxs)("section",{className:"fixed w-full h-[calc(100%-16px)] z-20 ease-in-out bg-primary-dark-100 rounded-[18px] shadow-[0_5px_20px_rgba(0,0,0,1)]",style:{...w},children:[(0,n.jsxs)("div",{className:"relative bg-primary-dark-100 w-full h-33px select-none rounded-t-[18px]",onTouchStart:g,onMouseDown:j,children:[(0,n.jsx)("p",{className:"relative top-8px w-40px rounded-full h-4px bg-primary-gray-400 mx-auto"}),(0,n.jsx)("p",{className:"absolute top-0 w-full h-80px z-20"})]}),(0,n.jsxs)(h.Z,{centerMode:!0,centerPadding:"0",slidesToShow:1,slidesToScroll:1,arrows:!1,infinite:!1,beforeChange(e,t){var r;null===(r=u.current)||void 0===r||r.slickGoTo(t)},ref:x,className:"w-full h-[calc(100%-30px)]",children:[" ",null==s?void 0:null===(r=s.chapter)||void 0===r?void 0:r.map((e,t)=>{let r=s.chapter.length+1;return(0,n.jsx)(N,{i:t,totalIndex:r,chapter:e,currentContents:s,onTouchEnd:A},t)}),(0,n.jsx)(N,{isAbridged:!0,i:s.chapter.length,totalIndex:s.chapter.length+1,currentContents:s,onTouchEnd:A})]})]})]})},y=e=>{var t,r,l,s,i,c,o;return(0,n.jsx)("li",{className:"relative w-full phone-media mobile-md:h-[400px] transition-all duration-300 rounded-[15px]\n            py-24 bg-primary-dark-100 select-none list-none\n            ".concat(e.currentIdx===e.i?"scale-100":"scale-90"),children:(0,n.jsx)(j.Z,{children:(0,n.jsxs)("div",{className:"w-full h-full px-16",children:[(0,n.jsx)("h1",{className:"text-center mb-16 font-bold text-17 tracking-[-0.9px]",children:e.isAbridged?null===(t=e.currentContents)||void 0===t?void 0:t.abridgedShort.title:null===(r=e.chapter)||void 0===r?void 0:r.coverTitle}),(0,n.jsx)(p(),{src:e.isAbridged?null===(l=e.currentContents)||void 0===l?void 0:l.abridgedShort.img:null===(s=e.chapter)||void 0===s?void 0:s.coverImg,alt:"컨텐츠 커버이미지",width:1e3,height:1e3,className:"w-full mb-16 rounded-[10px]",priority:!0}),(0,n.jsx)("div",{className:"z-10 tracking-[-0.9px] flex text-14",children:(0,n.jsxs)("div",{className:"text-start text-white",children:[(0,n.jsx)("div",{dangerouslySetInnerHTML:{__html:g().sanitize(e.isAbridged?null===(i=e.currentContents)||void 0===i?void 0:i.abridgedShort.text:null===(c=e.chapter)||void 0===c?void 0:c.coverText)}}),0===e.i&&(0,n.jsxs)("div",{className:"flex whitespace-nowrap text-11 justify-end font-thin text-primary-gray-300 mt-6",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("p",{className:"mr-5px text-primary-gray-300",children:"출처:"}),(0,n.jsx)("p",{className:"mr-3px",children:null===(o=e.currentContents)||void 0===o?void 0:o.channelTitle})]}),(0,n.jsx)(a(),{href:"https://www.youtube.com/watch/"+e.routerQuery,target:"_blank",className:"font-semibold",children:"원본영상 보러가기"})]})]})})]})})})},N=e=>{var t,r,l,s,a;return(0,n.jsx)("li",{className:"h-[calc(100%-30px)] relative list-none",onMouseUp:e.onTouchEnd,onTouchEnd:e.onTouchEnd,children:(0,n.jsx)(j.Z,{children:(0,n.jsxs)("div",{className:"bg-primary-dark-100 h-[calc(100%-30px)] px-16 border-x border-dashed border-primary-gray-500",children:[(0,n.jsx)("h1",{className:"text-center mb-16 font-bold text-17 tracking-[-0.9px]",children:e.isAbridged?(0,n.jsx)("p",{className:"pb-15px text-center border-b border-primary-gray-500 text-white font-bold tracking-wider",children:"전체요약"}):(0,n.jsx)("p",{className:"tracking-wider",children:"상세보기"})}),(0,n.jsx)("h1",{className:"my-8px text-18 text-center",children:e.isAbridged&&(null===(t=e.currentContents)||void 0===t?void 0:t.abridgedTitle)}),(0,n.jsx)(p(),{src:e.isAbridged?null===(r=e.currentContents)||void 0===r?void 0:r.abridgedImg:null===(l=e.chapter)||void 0===l?void 0:l.detail.img,alt:"디테일이미지",width:1e3,height:1e3,className:"w-full mb-16 rounded-[10px]"}),(0,n.jsx)("div",{dangerouslySetInnerHTML:e.isAbridged?{__html:g().sanitize(null===(s=e.currentContents)||void 0===s?void 0:s.abridged)}:{__html:g().sanitize(null===(a=e.chapter)||void 0===a?void 0:a.detail.text)}})]})})})};var T=r(9008),S=r.n(T);let k=e=>{var t;let{data:r,sectionList:s,duration:d}=e,h=(0,l.useRef)("https://www.youtube.com/watch?v=".concat(r.id)),x=(0,l.useRef)(null),p=(0,l.useRef)(r.chapter.length+1),{sliderIndex:m}=b.h.getState().content,[v,f]=(0,l.useState)(!1),[g,j]=(0,l.useState)(!1),[y,N]=(0,l.useState)(0),[T,k]=(0,l.useState)(!1),[E,_]=(0,l.useState)(!1),C=()=>f(!v),Y=()=>j(!g),L=e=>N(e.playedSeconds);return(0,l.useEffect)(()=>{_(!0)},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(S(),{children:[(0,n.jsx)("meta",{property:"og:title",content:r.title}),(0,n.jsx)("meta",{property:"og:image",content:r.thumbnail}),(0,n.jsx)("meta",{property:"og:video",content:h.current})]}),(0,n.jsxs)("div",{className:"relative w-full h-full overflow-hidden",children:[(0,n.jsxs)("div",{className:"flex flex-col w-full h-full overflow-hidden",children:[(0,n.jsxs)("section",{className:"shrink w-full",children:[(0,n.jsxs)("header",{className:"flex justify-between items-center h-48px w-full bg-black px-16px",children:[(0,n.jsx)(a(),{href:"/",children:(0,n.jsx)(c.Rp,{})}),(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsx)(c.aA,{onClick:Y})})]}),(0,n.jsx)("section",{className:"relative w-full h-[211px] max-mobile-md:h-[26vh]",children:E&&(0,n.jsx)(i.Z,{url:h.current,width:"100%",height:"100%",controls:!0,onProgress:L,onStart:()=>k(!0),className:"react-player",ref:x})}),(0,n.jsxs)("article",{className:"pt-12px w-full relative",children:[(0,n.jsx)("div",{className:"w-full h-24px relative"}),(0,n.jsxs)("div",{className:"absolute z-20 top-12px left-1/2 -translate-x-1/2 flex flex-col justify-between items-center w-[calc(100%-24px)] px-12px pb-10px transition-all duration-300\n                                h-24px overflow-hidden rounded-[10px] border ".concat(v?"h-[100px] border-primary-gray-400 bg-primary-dark-100":"border-transparent"),children:[(0,n.jsxs)("div",{className:"w-full flex justify-between",children:[(0,n.jsx)("p",{className:"w-[90%] text-16 text-white h-fit line-clamp-1 ".concat(v&&"line-clamp-none"),children:r.title}),(0,n.jsx)("button",{onClick:C,className:"w-24 h-fit",children:v?(0,n.jsx)(c.x1,{}):(0,n.jsx)(c.oD,{})})]}),(0,n.jsxs)("h2",{className:"mt-2 text-13 text-primary-gray-400 ".concat(v?"block":"hidden"),children:["업데이트 ",null==r?void 0:null===(t=r.publishedAt)||void 0===t?void 0:t.substring(0,10)]})]}),(0,n.jsxs)("div",{className:"flex justify-between items-center w-full mt-10 mb-12 px-16",children:[(0,n.jsx)("section",{className:"flex relative flex-nowrap w-full h-5px items-center",children:(0,n.jsx)(u,{chapterSectionList:s,playerRef:x,duration:d,playStart:T,currentProgress:y})}),(0,n.jsxs)("div",{className:"flex ml-10 text-15 min-w-[44px] w-44px",children:[(0,n.jsx)("p",{children:m+1}),(0,n.jsxs)("div",{className:"flex ".concat(m===p.current?"text-white":"text-primary-gray-400"),children:[(0,n.jsx)("p",{className:"ml-2 mr-3",children:"/"}),(0,n.jsx)("p",{children:p.current})]})]})]})]})]}),(0,n.jsx)("section",{children:(0,n.jsx)(w,{playerRef:x,currentContents:r,chapterSectionList:s,playStart:T,currentProgress:y})})]}),(0,n.jsx)("div",{className:"fixed z-20",children:(0,n.jsx)(o.Z,{isOnCopy:g,modalSwitch:Y})})]})]})};var E=!0,_=k}},function(e){e.O(0,[857,886,544,774,888,179],function(){return e(e.s=1731)}),_N_E=e.O()}]);